<ul class="list-local-locations">
  <% @status.take(99).each do |s| %>
    <li class="result-local-location">
      <%# Begin location wrap %>
      <div class="location-wrap">
        <span class="location">
          <span class="library"><%= s[:library] %></span>
          <span class="collection"><%= s[:collection] %>:</span>
          <span class="callno"><%= s[:call_number] %></span>
          <span class="desc">
            <% if s[:description].present? %> <%= s[:description] %> <% end %>
          </span>
          <span class="sr"><%= s[:label] %></span>
        </span>

        <span class="location-actions">
          <a href="<%= map_link(s[:library]) %>"
             class="btn button-subtle map-link">
             <i class="fa fa-map-marker" aria-hidden="true"></i>
             <span class="sr">View <%= s[:library] %> location map</span>
          </a>
        </span>
      </div>
      <%# End location wrap %>

      <%# Begin availability wrap %>
      <div class="availability-wrap">

        <% if s[:available?] %>

          <span class="availability-status">
            <i class="fa fa-check" aria-hidden="true"></i>
            Available
          </span>

        <% else %>

          <span class="availability-status">
            <i class="fa fa-times" aria-hidden="true"></i>
            Checked out
          </span>

        <% end %>

        <span class="availability-actions">
          <% s[:buttons].each do |button| %>
            <%= raw button %>
          <% end %>
        </span>
      </div>
      <%# End availability wrap %>
    </li>
  <% end %>
</ul>

<% if @status.count > 99 %>
<div class="show-even-more">
  <p>Want to see even more? <a href="<%= aleph_holdings_link(params[:id]) %>">View in the catalog to sort and filter <i class="fa fa-angle-double-right" aria-hidden="true"></i></a></p>
</div>
<% end %>
